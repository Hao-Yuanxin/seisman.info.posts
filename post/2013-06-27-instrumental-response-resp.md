---
title: 仪器响应文件 RESP
date: 2013-06-27
author: SeisMan
categories:
  - 地震学基础
tags:
  - 仪器响应
mathjax: true
slug: instrumental-response-resp
---

《[仪器响应的物理细节](/instrumental-response-physical-details/)》一文中说过，
理论上仪器响应是由三个阶段构成的。常用的仪器响应格式包括 SEED 的 RESP 文件以及 SAC 的 PZ 文件。
这里通过阅读一个 RESP 类型的仪器响应文件，来更进一步的理解仪器响应，顺便熟悉一下 SEED 格式。

由于 RESP 的内容太长，就不在博文中贴出，本文所使用的 RESP 文件可以在 [这里](/downloads/RESP.IU.COLA.00.BHZ) 下载。

RESP 文件是从 SEED 文件中解压得到的，因而保留了 SEED 格式的很多传统。响应文件中 Stage sequence number
表示阶段号，这个例子中从 1 到 3 再到 0；在每个 stage 中，根据 SEED 格式的要求又分为多个 block，
每个 block 分别代表该 stage 的部分信息。

<!--more-->

## 台站信息

- 1-9 行包含了台站名、台网名、location、channel、开始时间和结束时间等信息。

## Stage 1

10-42 行给出了第一阶段的信息。这个阶段的功能是将运动信号转换为电压信号。

- 10-33 行。输入单位为 `m/s`，输出单位为 V，归一化因子 $A_0=86270.5$，共有 2 个零点和 5 个极点，
    然后列出了零极点的实部、虚部以及误差。
- 34-42 行给出了第一阶段的放大系数 $Sd=2.013040\times 10^3$。

## Stage 2

43-73 行是第二个阶段，其实现模拟信号到数字信号的转换。

- 43-53 行指出输入为 V，输出为 `counts`
- 54-64 行给出了模电转换过程中可能存在的减采样信息，这里减采样因子为 1，也就是没有减采样。
- 65-73 行给出了该阶段的放大系数 $S_d=1.677720 \times 10^6$。

## Stage 3

74-173 行是第三阶段，主要是滤波、减采样等。

- 74-153 行指出输入为 `counts`，输出也为 `counts`。这个阶段的响应函数不是通过零极点的方式
    给出的，而是通过系数给出的，这里包含了 67 个分子系数和 0 个分母系数。
- 154-164 行给出了减采样的信息，并对滤波过程中造成的时间延迟进行估计并做校正。
- 165-173 给出这个阶段的增益，一般为 1。

## Stage 0

174-182 行是第 0 阶段，这个阶段给出了 $Sensitivity=3.377320\times 10^9$。其实际上等于
前面三个阶段的放大系数 $S_d$ 的乘积，这个阶段只是起到了辅助验证的作用。

有些时候会遇到 Stage 0 给出的增益并不等于前几个阶段的增益的乘积的情况，此时会报如下错误:

    computed and reported sensitivities differ by more than 5 percent

其中 computed sensitivity 指的是各个 stage 的增益的乘积，reported sensitivity 指的是 stage 0
给出的增益，二者之间相差 5% 以上。

出现这个错误的可能原因是仪器响应文件有问题。官方的答复见 [这里](http://www.iris.washington.edu/pipermail/sac-help/2014-February/001674.html)。

## 仪器响应与各个阶段的振幅响应

![图 1：仪器响应与各阶段振幅响应](/images/2013062701.png)

这里主要关注振幅响应，根据图例可以看出，第一个阶段在 0.01-5Hz 范围内振幅基本相同，在该范围外振幅响应
比较小，这是该仪器所关注的部分；第二阶段的响应函数是完美的直线；第三个阶段在一个很长的范围内也是一条
直线，在大于 7 Hz 的时候振幅响应开始出现剧烈的变化。理论上在去除仪器响应的时候需要考虑第三阶段的响应函数，
但是实际上在我们所关注的频率范围内（也许是 0.01-5 Hz），因而第三阶段的响应函数也可以不考虑了。

## 总结

与前文总结相同，三个阶段中最重要的是第一个阶段的零极点，还有三个阶段的放大系数。第一个阶段的归一化
因子也很重要，在这里好像没有体现出来。

## 备注

- 图 1 由 [JPlotResp](http://www.isti2.com/JPlotResp/) 绘制得到。
- 使用 JPlotResp 绘制响应函数的时候，将光标放在相应点上，可以看到每个点的横纵轴坐标，在最大振幅以及
    敏感频率方面与想象的有一点偏差。
